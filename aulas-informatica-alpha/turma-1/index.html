<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Atividade ‚Äî Arquivos, Pastas e Organiza√ß√£o</title>
  <link rel="icon" type="image/png" href="https://mickaelfelipe01-beep.github.io/Atividades/aulas-informatica-alpha/imagens/Design%20sem%20nome%20(8).png">

  <style>
    :root {
      --primary: #2563eb;
      --success: #16a34a;
      --danger: #dc2626;
      --card-bg: rgba(255, 255, 255, 0.95);
      --radius: 20px;
    }

    body {
      margin: 0;
      font-family: 'Segoe UI', Roboto, sans-serif;
      background: url('https://mickaelfelipe01-beep.github.io/Atividades/aulas-informatica-alpha/imagens/Design%20sem%20nome%20(6).png') no-repeat center center fixed;
      background-size: cover;
      min-height: 100vh;
      display: flex; justify-content: center; align-items: flex-start;
    }

    .wrap { width: 100%; max-width: 800px; padding: 20px; }

    .card {
      background: var(--card-bg);
      backdrop-filter: blur(10px);
      border-radius: var(--radius);
      padding: 30px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.2);
      border: 1px solid rgba(255,255,255,0.3);
      margin-top: 20px;
    }

    .topbar {
      background: var(--card-bg);
      border-radius: var(--radius);
      padding: 15px 25px;
      display: flex; align-items: center; justify-content: space-between;
      box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }

    .brand { display: flex; align-items: center; gap: 15px; }
    .brand img { width: 50px; height: 50px; border-radius: 12px; }
    .brand .title { font-weight: 900; font-size: 20px; color: #1e293b; }

    .h1 { font-size: 28px; font-weight: 900; color: #1e293b; margin-bottom: 10px; }
    .sub { color: #64748b; margin-bottom: 25px; }

    /* Op√ß√µes */
    .opts { display: grid; gap: 12px; margin-top: 20px; }
    .opt {
      padding: 15px; border: 2px solid #e2e8f0; border-radius: 15px;
      cursor: pointer; transition: all 0.2s; background: #fff;
      display: flex; align-items: center; gap: 12px; font-weight: 600;
    }
    .opt:hover { border-color: var(--primary); background: #eff6ff; }
    .opt.correct { background: #dcfce7 !important; border-color: var(--success) !important; color: #166534; }
    .opt.wrong { background: #fee2e2 !important; border-color: var(--danger) !important; color: #991b1b; }
    .opt.disabled { cursor: not-allowed; opacity: 0.7; }

    /* Toast Centralizado */
    .overlay {
      position: fixed; inset: 0; background: rgba(0,0,0,0.4);
      backdrop-filter: blur(4px); display: none;
      justify-content: center; align-items: center; z-index: 1000;
    }
    .toast-center {
      background: white; padding: 30px; border-radius: 25px;
      max-width: 400px; width: 90%; text-align: center;
      box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5);
      animation: pop 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    @keyframes pop { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }

    .toast-center h2 { margin: 0 0 10px; font-size: 24px; }
    .toast-center p { color: #475569; line-height: 1.5; margin-bottom: 20px; }

    /* Bot√µes */
    button {
      padding: 12px 24px; border-radius: 12px; border: none;
      font-weight: 800; cursor: pointer; transition: 0.2s;
    }
    .btn-primary { background: var(--primary); color: white; }
    .btn-next { background: #1e293b; color: white; width: 100%; margin-top: 15px; }

    /* Tela de Resultado */
    #resultScreen { text-align: center; display: none; }
    .score-badge { font-size: 60px; font-weight: 900; margin: 20px 0; display: block; }
    .rank-tag {
      display: inline-block; padding: 8px 20px; border-radius: 999px;
      font-weight: 900; text-transform: uppercase; letter-spacing: 1px;
      margin-bottom: 20px;
    }
    .rank-iniciante { background: #f1f5f9; color: #475569; }
    .rank-intermediario { background: #fef3c7; color: #92400e; }
    .rank-avancado { background: #dcfce7; color: #166534; }

    input#fullName {
      width: 100%; padding: 15px; border-radius: 12px; border: 2px solid #e2e8f0;
      font-size: 16px; margin-bottom: 15px; outline: none;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <img src="https://mickaelfelipe01-beep.github.io/Atividades/aulas-informatica-alpha/imagens/Design%20sem%20nome%20(8).png" alt="Logo">
        <div class="title">Instituto ALFA</div>
      </div>
    </div>

    <div class="card" id="startCard">
      <div class="h1">Atividade de Organiza√ß√£o</div>
      <p class="sub">Teste seus conhecimentos sobre Arquivos e Pastas.</p>
      <input type="text" id="fullName" placeholder="Digite seu nome completo">
      <button class="btn-primary" style="width: 100%" onclick="startQuiz()">Come√ßar Atividade ‚Üí</button>
    </div>

    <div class="card" id="quizCard" style="display:none">
      <div id="timer" style="float:right; font-weight:900">‚è≥ 60:00</div>
      <div id="progress" style="font-weight:700; color:var(--primary)">Quest√£o 1 de 10</div>
      <h2 id="qTitle" style="margin-top:20px">Carregando...</h2>
      <div class="opts" id="qOpts"></div>
      <button id="btnNext" class="btn-next" style="display:none" onclick="nextQuestion()">Pr√≥xima Quest√£o</button>
    </div>

    <div class="card" id="resultScreen">
      <div id="resultEmoji" style="font-size: 80px;">üèÜ</div>
      <div class="h1" id="resultTitle">Excelente trabalho!</div>
      <p id="resultMsg">Voc√™ concluiu a atividade com sucesso.</p>
      <span id="rankTag" class="rank-tag">Iniciante</span>
      <span class="score-badge" id="finalScore">0/10</span>
      <p style="color: #64748b">Sua resposta foi enviada para o professor.</p>
    </div>
  </div>

  <div class="overlay" id="feedbackOverlay">
    <div class="toast-center">
      <h2 id="feedbackTitle">Correto!</h2>
      <p id="feedbackText">Explica√ß√£o aqui.</p>
      <button class="btn-primary" onclick="closeFeedback()">Entendi</button>
    </div>
  </div>

  <script>
    const SCRIPT_URL = "SUA_URL_DO_WEB_APP_AQUI"; // <--- COLOQUE A URL AQUI
    const QUESTIONS = [
      { q: "O que √© um ARQUIVO no computador?", opts: ["Local para guardar pastas", "Qualquer coisa que cont√©m informa√ß√£o (foto, texto, v√≠deo)", "Programa que apaga tudo", "Pasta secreta"], ans: 1, exp: "Arquivos s√£o as unidades b√°sicas de informa√ß√£o. Pense neles como o 'documento' e a pasta como a 'gaveta'." },
      { q: "O que √© uma PASTA?", opts: ["Local para guardar arquivos e outras pastas", "Um tipo de v√≠deo", "Arquivo de texto", "Instalador do Windows"], ans: 0, exp: "Pastas servem exclusivamente para organizar e agrupar seus arquivos." },
      { q: "Qual extens√£o √© de um documento pronto para leitura (n√£o edit√°vel)?", opts: ["DOCX", "PDF", "JPG", "EXE"], ans: 1, exp: "O PDF √© o formato universal para documentos que n√£o devem ser alterados facilmente." },
      { q: "Qual extens√£o representa um programa ou instalador?", opts: ["MP4", "JPG", "EXE", "PDF"], ans: 2, exp: "EXE vem de 'Executable'. √â o formato que o Windows usa para rodar programas." },
      { q: "Qual atalho √© usado para COPIAR um arquivo?", opts: ["Ctrl+X", "Ctrl+V", "Ctrl+C", "Ctrl+Z"], ans: 2, exp: "Ctrl+C duplica o arquivo, mantendo o original no lugar." },
      { q: "Qual atalho √© usado para MOVER (recortar) um arquivo?", opts: ["Ctrl+C", "Ctrl+X", "Ctrl+V", "Ctrl+A"], ans: 1, exp: "Ctrl+X 'tira' o arquivo do lugar atual para col√°-lo em outro." },
      { q: "O que acontece ao usar Shift + Delete?", opts: ["Vai para a lixeira", "Renomeia o arquivo", "Apaga permanentemente", "Copia o arquivo"], ans: 2, exp: "Cuidado! Shift+Delete pula a lixeira e apaga o arquivo direto do disco." },
      { q: "O que voc√™ N√ÉO deve apagar ao renomear um arquivo?", opts: ["O in√≠cio do nome", "A extens√£o (.jpg, .pdf)", "Os espa√ßos", "Os n√∫meros"], ans: 1, exp: "Se voc√™ remover a extens√£o, o computador n√£o saber√° com qual programa abrir o arquivo." },
      { q: "Onde voc√™ organiza arquivos no Windows?", opts: ["Painel de Controle", "Google Chrome", "Explorador de Arquivos", "Bloco de Notas"], ans: 2, exp: "O Explorador de Arquivos √© a ferramenta principal de gest√£o de dados do sistema." },
      { q: "Na regra 5-5-5, o que significa Backup?", opts: ["Deletar tudo", "C√≥pia de seguran√ßa", "Mudar o nome", "Criar 5 pastas"], ans: 1, exp: "Backup √© ter uma c√≥pia em local seguro para n√£o perder seus dados importantes." }
    ];

    let currentIdx = 0;
    let score = 0;
    let userAnswers = [];
    let userName = "";
    let startTime = Date.now();

    function startQuiz() {
      userName = document.getElementById('fullName').value.trim();
      if(userName.length < 5) { alert("Por favor, digite seu nome completo."); return; }
      document.getElementById('startCard').style.display = 'none';
      document.getElementById('quizCard').style.display = 'block';
      renderQuestion();
    }

    function renderQuestion() {
      const q = QUESTIONS[currentIdx];
      document.getElementById('progress').innerText = `Quest√£o ${currentIdx + 1} de ${QUESTIONS.length}`;
      document.getElementById('qTitle').innerText = q.q;
      const optsDiv = document.getElementById('qOpts');
      optsDiv.innerHTML = '';
      
      q.opts.forEach((opt, i) => {
        const btn = document.createElement('div');
        btn.className = 'opt';
        btn.innerText = opt;
        btn.onclick = () => checkAnswer(i);
        optsDiv.appendChild(btn);
      });
      document.getElementById('btnNext').style.display = 'none';
    }

    function checkAnswer(i) {
      const q = QUESTIONS[currentIdx];
      const opts = document.querySelectorAll('.opt');
      if (opts[0].classList.contains('disabled')) return;

      const isCorrect = (i === q.ans);
      if(isCorrect) score++;

      userAnswers.push({ q: q.q, selected: q.opts[i], correct: q.opts[q.ans], status: isCorrect });

      opts.forEach((opt, idx) => {
        opt.classList.add('disabled');
        if(idx === q.ans) opt.classList.add('correct');
        if(idx === i && !isCorrect) opt.classList.add('wrong');
      });

      // Mostrar Feedback Centralizado
      document.getElementById('feedbackOverlay').style.display = 'flex';
      document.getElementById('feedbackTitle').innerText = isCorrect ? "‚úÖ Muito bem!" : "‚ùå Quase l√°...";
      document.getElementById('feedbackTitle').style.color = isCorrect ? "var(--success)" : "var(--danger)";
      document.getElementById('feedbackText').innerHTML = `<b>A resposta correta era: ${q.opts[q.ans]}</b><br><br>${q.exp}`;
      
      document.getElementById('btnNext').style.display = 'block';
    }

    function closeFeedback() {
      document.getElementById('feedbackOverlay').style.display = 'none';
      if(currentIdx === QUESTIONS.length - 1) {
        finishQuiz();
      }
    }

    function nextQuestion() {
      currentIdx++;
      renderQuestion();
    }

    async function finishQuiz() {
      document.getElementById('quizCard').style.display = 'none';
      document.getElementById('resultScreen').style.display = 'block';
      
      const percent = (score / QUESTIONS.length) * 10;
      let rank = "";
      let title = "";
      let msg = "";
      let emoji = "";

      if(score >= 9) {
        rank = "Avan√ßado"; title = "Incr√≠vel!"; msg = "Voc√™ domina o assunto perfeitamente!"; emoji = "üèÜ";
      } else if(score >= 6) {
        rank = "Intermedi√°rio"; title = "Muito bom!"; msg = "Voc√™ tem uma √≥tima base, continue assim!"; emoji = "ü•à";
      } else {
        rank = "Iniciante"; title = "N√£o desanime!"; msg = "Estude mais um pouco e tente a pr√≥xima vez!"; emoji = "üìö";
      }

      document.getElementById('finalScore').innerText = `${score}/${QUESTIONS.length}`;
      document.getElementById('rankTag').innerText = rank;
      document.getElementById('rankTag').className = `rank-tag rank-${rank.toLowerCase()}`;
      document.getElementById('resultTitle').innerText = title;
      document.getElementById('resultMsg').innerText = msg;
      document.getElementById('resultEmoji').innerText = emoji;

      // Enviar para o Google Sheets
      const payload = {
        action: "submit",
        activityId: "ARQUIVOS_2026",
        name: userName,
        deviceId: "dev_" + Math.random().toString(36).substr(2, 9),
        startedAt: startTime,
        endedAt: Date.now(),
        timeLimitSec: 3600,
        autoSubmit: false,
        score: score,
        total: QUESTIONS.length,
        answers: userAnswers
      };

      try {
        await fetch(SCRIPT_URL, {
          method: "POST",
          mode: "no-cors",
          body: JSON.stringify(payload)
        });
      } catch (e) { console.log("Erro ao salvar"); }
    }
  </script>
</body>
</html>
